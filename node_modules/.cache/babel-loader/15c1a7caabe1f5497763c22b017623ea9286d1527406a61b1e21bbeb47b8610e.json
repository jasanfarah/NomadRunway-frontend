{"ast":null,"code":"import _regeneratorRuntime from\"/home/jasan/NomadCalc/frontend/nomadcalc/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/jasan/NomadCalc/frontend/nomadcalc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/jasan/NomadCalc/frontend/nomadcalc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ðŸ’° Savings\n//ðŸ‡©ðŸ‡° Copenhagen\n//ðŸ‡²ðŸ‡¾ Kuala Lumpur\n//:TODO - Convert input box to a component!\nimport'./menu.css';import React,{useState}from'react';import{airports,airportsNomad}from\"../misc/Countries\";import{calculate}from\"../../redux/menubar\";import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),savings=_useState2[0],setSavings=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedAirport=_useState4[0],setSelectedAirport=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),selectedAirportDestination=_useState6[0],setSelectedAirportDestination=_useState6[1];// @ts-ignore\nfunction handleAirportChange(event){setSelectedAirport(event.target.value);}// @ts-ignore\nfunction handleAirportDestinationChange(event){setSelectedAirportDestination(event.target.value);}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var calculateor,destinationCountry;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();// ADD VALIDATION TO INPUTS\n// ADD FREAKING COUNTRY CODES\n_context.next=3;return calculate(selectedAirport,selectedAirportDestination,\"2022-05-01\",savings);case 3:calculateor=_context.sent;// @ts-ignore\ndestinationCountry=airportsNomad.find(function(airport){return airport.code===selectedAirportDestination;}).country;dispatch({type:\"SUBMIT\",payload:{destinationCountry:destinationCountry,departureAirport:selectedAirport,arrivalAirport:selectedAirportDestination,departureDate:\"2002\",savings:savings}});_context.next=8;return dispatch({type:\"UPDATE\",payload:calculateor});case 8:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"menu-bar\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-bar__items\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu-bar__item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"savings\",placeholder:\"\\uD83D\\uDCB0 Savings\",value:savings,onChange:function onChange(event){return setSavings(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-bar__item\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"country1\",value:selectedAirport,onChange:handleAirportChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your origin\"}),airports.map(function(airport){return/*#__PURE__*/_jsx(\"option\",{value:airport.code,children:\"\".concat(airport.country,\" - \").concat(airport.code)},airport.code);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-bar__item\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"country2\",value:selectedAirportDestination,onChange:handleAirportDestinationChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your destination\"}),airportsNomad.map(function(airportNomad){return/*#__PURE__*/_jsx(\"option\",{value:airportNomad.code,children:\"\".concat(airportNomad.country,\" - \").concat(airportNomad.code)},airportNomad.code);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-bar__calculate\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Calculate\"})})]})})});}export default Menu;","map":{"version":3,"names":["React","useState","airports","airportsNomad","calculate","useDispatch","jsx","_jsx","jsxs","_jsxs","Menu","dispatch","_useState","_useState2","_slicedToArray","savings","setSavings","_useState3","_useState4","selectedAirport","setSelectedAirport","_useState5","_useState6","selectedAirportDestination","setSelectedAirportDestination","handleAirportChange","event","target","value","handleAirportDestinationChange","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","calculateor","destinationCountry","wrap","_callee$","_context","prev","next","preventDefault","sent","find","airport","code","country","type","payload","departureAirport","arrivalAirport","departureDate","stop","_x","apply","arguments","className","children","onSubmit","name","placeholder","onChange","map","concat","airportNomad"],"sources":["/home/jasan/NomadCalc/frontend/nomadcalc/src/components/Menubar/menu.tsx"],"sourcesContent":["// ðŸ’° Savings\n//ðŸ‡©ðŸ‡° Copenhagen\n//ðŸ‡²ðŸ‡¾ Kuala Lumpur\n//:TODO - Convert input box to a component!\nimport './menu.css';\nimport React, {useState} from 'react';\nimport {airports,airportsNomad} from \"../misc/Countries\";\nimport {calculate} from \"../../redux/menubar\";\nimport {store} from \"../../redux/store\";\nimport { useDispatch } from 'react-redux';\nimport {AppDispatch} from \"../../redux/store\";\n\nfunction Menu() {\n\n\n         const dispatch = useDispatch<AppDispatch>( );\n        const [savings, setSavings] = useState('');\n        const [selectedAirport, setSelectedAirport] = useState('');\n        const [selectedAirportDestination, setSelectedAirportDestination] = useState('');\n\n\n    // @ts-ignore\n    function handleAirportChange(event) {\n        setSelectedAirport(event.target.value);\n    }\n    // @ts-ignore\n    function handleAirportDestinationChange(event) {\n        setSelectedAirportDestination(event.target.value);\n    }\n\n\n    const handleSubmit = async (event: any) => {\n        event.preventDefault();\n\n        // ADD VALIDATION TO INPUTS\n        // ADD FREAKING COUNTRY CODES\n        var calculateor = await calculate(selectedAirport, selectedAirportDestination, \"2022-05-01\", savings);\n        // @ts-ignore\n        var destinationCountry = airportsNomad.find((airport) => airport.code === selectedAirportDestination).country;\n         dispatch({type: \"SUBMIT\", payload: {destinationCountry: destinationCountry,departureAirport:selectedAirport , arrivalAirport: selectedAirportDestination, departureDate: \"2002\", savings: savings}});\n        await dispatch({type: \"UPDATE\", payload: calculateor});\n    };\n\n\n    return (\n            <div className=\"menu-bar\">\n                <form onSubmit={handleSubmit}>\n                    <div className='menu-bar__items'>\n                        <div className='menu-bar__item'>\n                            <input type=\"number\" name=\"savings\" placeholder=\"ðŸ’° Savings\" value={savings}\n                                   onChange={event => setSavings(event.target.value)}/>\n                        </div>\n                        <div className='menu-bar__item'>\n                            <select name=\"country1\" value={selectedAirport} onChange={handleAirportChange}>\n                                <option value=\"\">Select your origin</option>\n                                {airports.map((airport) => (\n                                    <option key={airport.code} value={airport.code}>\n                                        {`${airport.country} - ${airport.code}`}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                        <div className='menu-bar__item'>\n                            <select name=\"country2\" value={selectedAirportDestination} onChange={handleAirportDestinationChange}>\n                                <option value=\"\">Select your destination</option>\n                                {airportsNomad.map((airportNomad) => (\n                                    <option key={airportNomad.code} value={airportNomad.code}>\n                                        {`${airportNomad.country} - ${airportNomad.code}`}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                        <div className='menu-bar__calculate'>\n                            <button type='submit'>\n                                Calculate\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n\nexport default Menu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}